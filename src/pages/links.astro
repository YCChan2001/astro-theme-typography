---
import LayoutDefault from '~/layouts/LayoutDefault.astro';
import { getCollection, type CollectionEntry } from 'astro:content';
import { type linksCollection } from '~/.config' // 确保路径正确

type LinkEntry = CollectionEntry<typeof linksCollection>;

const links: LinkEntry[] = await getCollection('links');
---

<LayoutDefault title="友情链接">
  <main>
    <h1>友情链接</h1>
    <ul>
      {links.map((link) => (
        <li key={link.id}> {/* 使用 link.id 作为 key */}
          <a href={link.data.url} target="_blank" rel="noopener noreferrer">
            {link.data.title}
          </a>
          {link.data.description && <small> - {link.data.description}</small>}
        </li>
      ))}
    </ul>
  </main>
</LayoutDefault>

<style>
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    margin-bottom: 0.5rem;
  }
  a {
    font-weight: bold;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
  small {
    color: #777;
  }
</style>